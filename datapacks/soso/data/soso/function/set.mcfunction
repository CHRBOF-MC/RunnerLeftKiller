scoreboard objectives add egold minecraft.mined:minecraft.gold_ore {"text":"挖掘黃金數","color":"gold","bold":true}
scoreboard objectives add ediamond minecraft.mined:minecraft.diamond_ore {"text":"挖掘鑽石數","color":"aqua","bold":true}
scoreboard objectives add kill dummy {"text":"殺人數","color":"dark_red","bold":true}
scoreboard objectives add die deathCount {"text":"死亡數","color":"green","bold":true}
scoreboard objectives add taskfin dummy {"text":"隊伍任務完成數","color":"blue","bold":true}
scoreboard objectives add teamscore dummy {"text":"隊伍獲得分數","color":"blue","bold":true}
scoreboard objectives add do7e dummy {"text":"毒氣湧現","color":"dark_green","bold":true}
scoreboard objectives add killboo dummy
bossbar add runtime {"text":"逃生門開啟時間","color":"yellow","bold":true}
bossbar set minecraft:runtime color yellow
bossbar add killtime {"text":"殺手門開啟時間","color":"red","bold":true}
bossbar set minecraft:killtime color red
bossbar add breaktime {"text":"陷阱門開啟","color":"green","bold":true}
bossbar set minecraft:breaktime color green
bossbar add breaktime {"text":"陷阱門開啟","color":"green","bold":true}
bossbar set minecraft:breaktime color green

bossbar add night {"text":"暗夜時刻","color":"blue","bold":true}
bossbar set minecraft:night color blue
bossbar add clear {"text":"審判時刻","color":"yellow","bold":true}
bossbar set minecraft:clear color yellow


bossbar add do7e {"text":"毒氣湧現","color":"dark_green","bold":true}
bossbar set minecraft:do7e color red
bossbar set minecraft:do7e color green

bossbar add ourkill {"text":"叛徒現身","color":"red","bold":true}
bossbar set minecraft:ourkill color red
bossbar add ourready {"text":"和平時間","color":"white","bold":true}
bossbar set minecraft:ourready color white
scoreboard objectives add ourkill dummy
scoreboard objectives add ourkilltimes dummy


gamerule locatorBar false
scoreboard objectives add shop dummy
scoreboard objectives add shopbuy trigger


scoreboard objectives add flagsitem dummy


scoreboard objectives add playcode dummy


gamerule doTileDrops false
scoreboard objectives add bek_knowno dummy
scoreboard objectives add bek_knownok dummy
scoreboard objectives add nx dummy
scoreboard objectives add ny dummy
scoreboard objectives add nz dummy
scoreboard objectives add ourkillkill dummy
scoreboard objectives add flagskill dummy
scoreboard objectives add cross dummy
scoreboard objectives add boomball dummy
scoreboard objectives add door dummy
scoreboard objectives add doorclose dummy
scoreboard objectives add doorkill dummy
scoreboard objectives add fallDamage dummy
scoreboard objectives add firedamage dummy
scoreboard objectives add nightday dummy
scoreboard objectives add arrow dummy
scoreboard objectives add potion dummy
scoreboard objectives add killtp dummy
scoreboard objectives add teamco dummy
scoreboard objectives add knono dummy
scoreboard objectives add playtime dummy
scoreboard objectives add spawnfind dummy
scoreboard objectives add x dummy
scoreboard objectives add y dummy
scoreboard objectives add z dummy
scoreboard objectives add ksx dummy
scoreboard objectives add ksy dummy
scoreboard objectives add ksz dummy
scoreboard objectives add kst dummy

scoreboard objectives add sneaktime minecraft.custom:minecraft.sneak_time
scoreboard objectives add spy dummy
scoreboard objectives add clear dummy
scoreboard objectives add killers dummy
scoreboard objectives add teamjoin trigger
scoreboard objectives add code dummy
scoreboard objectives add hungry food
scoreboard objectives add dieztask5 dummy
scoreboard objectives add togestop dummy
scoreboard objectives add ramdon dummy
scoreboard objectives add zTEST dummy
scoreboard objectives add dietest deathCount
scoreboard objectives add diertest deathCount
scoreboard objectives add zTEST2 dummy
scoreboard objectives add Qitem dummy
scoreboard objectives add deathscore dummy
scoreboard objectives add killscore dummy
scoreboard objectives add visitmode dummy
scoreboard objectives add cloud dummy
scoreboard objectives add bx dummy
scoreboard objectives add by dummy
scoreboard objectives add bz dummy
scoreboard objectives add itemuse dummy
scoreboard objectives add itemuseb dummy
scoreboard objectives add postpx dummy
scoreboard objectives add killmod totalKillCount
scoreboard objectives add rlk.kill_count dummy
scoreboard objectives add postpy dummy
scoreboard objectives add postpz dummy
scoreboard objectives add taskrank dummy
scoreboard objectives add tasknum dummy
scoreboard objectives add posx dummy
scoreboard objectives add posy dummy
scoreboard objectives add posz dummy
scoreboard objectives add posxx dummy
scoreboard objectives add posyy dummy
scoreboard objectives add poszz dummy
scoreboard objectives add diedelay dummy
scoreboard objectives add ab dummy
scoreboard objectives add gkill dummy
scoreboard objectives add ghastnear dummy
scoreboard objectives add deathskill dummy
scoreboard objectives add killtest dummy
scoreboard objectives add killrtest dummy
scoreboard objectives add itemhp health
scoreboard objectives add sneak minecraft.custom:minecraft.sneak_time
scoreboard objectives add sneaktock minecraft.custom:minecraft.sneak_time
scoreboard objectives add Qit minecraft.custom:minecraft.drop
scoreboard objectives add stone minecraft.mined:minecraft.stone
scoreboard objectives add stonemax dummy
scoreboard objectives add hp health
scoreboard objectives add task dummy
scoreboard objectives add taskreset dummy
scoreboard objectives add team dummy
gamerule doMobSpawning false
scoreboard objectives setdisplay sidebar skyway
scoreboard objectives add CODENAME dummy {"text":"遊戲核心代號","color":"yellow","bold":true}
scoreboard objectives add CODENAMEb dummy {"text":"遊戲核心代號","color":"yellow","bold":true}
scoreboard objectives add skyway dummy {"text":"遊戲資訊","color":"yellow","bold":true}
scoreboard objectives add eventscore dummy {"text":"事件分數","color":"yellow","bold":true}
scoreboard objectives add fish minecraft.used:minecraft.carrot_on_a_stick
scoreboard objectives setdisplay below_name hp
scoreboard objectives add tasktalk dummy
gamerule spawnRadius 0
gamerule commandBlockOutput false
scoreboard players set tasknameget zTEST 0
scoreboard players set -1 zTEST -1
scoreboard players set 0 zTEST 0
scoreboard players set 1 zTEST 1
scoreboard players set 2 zTEST 2
scoreboard players set 3 zTEST 3
scoreboard players set 4 zTEST 4
scoreboard players set 5 zTEST 5
scoreboard players set 6 zTEST 6
scoreboard players set 7 zTEST 7
scoreboard players set 8 zTEST 8
scoreboard players set 9 zTEST 9
scoreboard players set 10 zTEST 10
scoreboard players set 11 zTEST 11
scoreboard players set 12 zTEST 12
scoreboard players set 13 zTEST 13
scoreboard players set 14 zTEST 14
scoreboard players set 15 zTEST 15
scoreboard players set 16 zTEST 16
scoreboard players set 17 zTEST 17
scoreboard players set 18 zTEST 18
scoreboard players set 19 zTEST 19
scoreboard players set 20 zTEST 20
scoreboard players set 21 zTEST 21
scoreboard players set 22 zTEST 22
scoreboard players set 23 zTEST 23
scoreboard players set 24 zTEST 24
scoreboard players set 25 zTEST 25
scoreboard players set 26 zTEST 26
scoreboard players set 27 zTEST 27
scoreboard players set 28 zTEST 28
scoreboard players set 29 zTEST 29
scoreboard players set 30 zTEST 30
scoreboard players set 60 zTEST 60
scoreboard players set 85 zTEST 85
scoreboard players set 90 zTEST 90
scoreboard players set 95 zTEST 95
scoreboard players set 92 zTEST 92
scoreboard players set 360 zTEST 360
scoreboard players set 100 zTEST 100
scoreboard players set pur zTEST 1

gamerule naturalRegeneration false
scoreboard objectives add tasktype dummy
bossbar add xr "你正在遠離活動場地【X軸】"
bossbar set minecraft:xr color red
bossbar set minecraft:xr value 100
bossbar set minecraft:xr max 100
bossbar set minecraft:xr visible true
bossbar add zr "你正在遠離活動場地【Z軸】"
bossbar set minecraft:zr color red
bossbar set minecraft:zr value 100
bossbar set minecraft:zr max 100
bossbar set minecraft:zr visible true
bossbar add xg "你正在回歸活動場地【X軸】"
bossbar set minecraft:xg color green
bossbar set minecraft:xg value 100
bossbar set minecraft:xg max 100
bossbar set minecraft:xg visible true
bossbar add zg "你正在回歸活動場地【Z軸】"
bossbar set minecraft:zg color green
bossbar set minecraft:zg value 100
bossbar set minecraft:zg max 100
bossbar set minecraft:zg visible true
bossbar add xc "活動場地【X軸】"
bossbar set minecraft:xc color white
bossbar set minecraft:xc value 100
bossbar set minecraft:xc max 100
bossbar set minecraft:xc visible true
bossbar add zc "活動場地【Z軸】"
bossbar set minecraft:zc color white
bossbar set minecraft:zc value 100
bossbar set minecraft:zc max 100
bossbar set minecraft:zc visible true
bossbar add event "事件終結"
bossbar set minecraft:event color yellow
bossbar set minecraft:event visible true
execute unless score tpp zTEST matches 1.. as @a store success score tpp zTEST run function soso:setgame/set
execute unless score worldCODE CODENAME matches 0.. run scoreboard players set worldCODE CODENAME 0
execute unless score team zTEST matches 0.. run scoreboard players set team zTEST 0
execute unless score rank zTEST matches 0.. run scoreboard players set rank zTEST 0
execute unless score suv2 zTEST matches 0.. run scoreboard players set suv2 zTEST 0
execute unless score suv3 zTEST matches 0.. run scoreboard players set suv3 zTEST 0
execute unless score suv4 zTEST matches 0.. run scoreboard players set suv4 zTEST 0
execute unless score suv5 zTEST matches 0.. run scoreboard players set suv5 zTEST 0
execute unless score suv6 zTEST matches 0.. run scoreboard players set suv6 zTEST 0
execute unless score suv7 zTEST matches 0.. run scoreboard players set suv7 zTEST 0
execute unless score suv8 zTEST matches 0.. run scoreboard players set suv8 zTEST 0
execute unless score suv9 zTEST matches 0.. run scoreboard players set suv9 zTEST 0
execute unless score suv10 zTEST matches 0.. run scoreboard players set suv10 zTEST 0
execute unless score suv2 zTEST matches 0.. run scoreboard players set suv2 zTEST 0
execute unless score suv3 zTEST matches 0.. run scoreboard players set suv3 zTEST 0
execute unless score suv4 zTEST matches 0.. run scoreboard players set suv4 zTEST 0
execute unless score suv5 zTEST matches 0.. run scoreboard players set suv5 zTEST 0
execute unless score suv6 zTEST matches 0.. run scoreboard players set suv6 zTEST 0
execute unless score suv7 zTEST matches 0.. run scoreboard players set suv7 zTEST 0
execute unless score suv8 zTEST matches 0.. run scoreboard players set suv8 zTEST 0
execute unless score suv9 zTEST matches 0.. run scoreboard players set suv9 zTEST 0
execute unless score suv10 zTEST matches 0.. run scoreboard players set suv10 zTEST 0
execute unless score kill1 zTEST matches 0.. run scoreboard players set kill1 zTEST 0
execute unless score kill2 zTEST matches 0.. run scoreboard players set kill2 zTEST 0
execute unless score kill3 zTEST matches 0.. run scoreboard players set kill3 zTEST 0
execute unless score kill4 zTEST matches 0.. run scoreboard players set kill4 zTEST 0
execute unless score kill5 zTEST matches 0.. run scoreboard players set kill5 zTEST 0
execute unless score kill6 zTEST matches 0.. run scoreboard players set kill6 zTEST 0
execute unless score kill7 zTEST matches 0.. run scoreboard players set kill7 zTEST 0
execute unless score kill8 zTEST matches 0.. run scoreboard players set kill8 zTEST 0
execute unless score kill9 zTEST matches 0.. run scoreboard players set kill9 zTEST 0
execute unless score kill10 zTEST matches 0.. run scoreboard players set kill10 zTEST 0
execute unless score arrow zTEST matches 0.. run scoreboard players set arrow zTEST 30
execute unless score potion zTEST matches 0.. run scoreboard players set potion zTEST 2
execute unless score map zTEST matches -100.. run scoreboard players set map zTEST 0
execute unless score 遊戲開始 zTEST matches 0.. run scoreboard players set 遊戲開始 zTEST 0

team add Killer
team modify Killer color red
team modify Killer friendlyFire false
team add Runner
team modify Runner color blue
team modify Runner friendlyFire false
team add zKillerc
team modify zKillerc color red
team modify zKillerc friendlyFire false
team add zRunnerc
team modify zRunnerc color blue
team modify zRunnerc friendlyFire false
team add spc "監視者"
team modify spc color black
team add pur "紫之伏"
team modify pur color light_purple
gamerule doImmediateRespawn true
team add build
team modify build color aqua
team modify build prefix "【建築者】"


execute as @p run team join zRunnerc 追擊方：冰虎
execute as @p run team join zKillerc 追擊方：赤龍
execute as @p run team join zRunnerc 持令方：冰虎
execute as @p run team join zKillerc 持令方：赤龍

bossbar add killboo {"text":"殺手爆氣值","color":"red","bold":true}
bossbar set killboo max 1000
bossbar set killboo color red

execute if score 遊戲開始 zTEST matches 0 run scoreboard objectives setdisplay list team
execute if score 遊戲開始 zTEST matches 1 run scoreboard objectives setdisplay list hp
gamerule drowningDamage true
function killman:set
team join 2b 【現在時間：白晝】
team join 11b 【現在時間：夜晚】
gamerule fallDamage true
execute if score falldamage zTEST matches 0 run gamerule fallDamage false
execute if score falldamage zTEST matches 1 run gamerule fallDamage true

gamerule fireDamage true
execute if score firedamage zTEST matches 0 run gamerule fireDamage false
execute if score firedamage zTEST matches 1 run gamerule fireDamage true


scoreboard players set 日夜交替 zTEST 0
execute if score nightday zTEST matches 0 run scoreboard players set 日夜交替 zTEST 0
execute if score nightday zTEST matches 1 run scoreboard players set 日夜交替 zTEST 1
execute if score nightday zTEST matches 2 run scoreboard players set 日夜交替 zTEST 2
bossbar add boss4 " "
execute unless score dungeon_set zTEST matches 0.. run scoreboard players set dungeon_set zTEST 1
execute unless score falldamage zTEST matches 0.. run scoreboard players set falldamage zTEST 1
execute unless score fireDamage zTEST matches 0.. run scoreboard players set fireDamage zTEST 1
execute unless score Raidok zTEST matches 0.. run scoreboard players set Raidok zTEST 1
execute unless score modhpset zTEST matches 0.. run scoreboard players set modhpset zTEST 100
execute unless score modattset zTEST matches 0.. run scoreboard players set modattset zTEST 100

bossbar set minecraft:boss4 color yellow
title @a actionbar ["",{"text":"逃脫升天-小恐龍守護者指令包再讀入完成","color":"yellow","bold":true}]
schedule function soso:alltimeuse/ramdonsum 1t
schedule function soso:alltimeuse/alltimeuse 1t
schedule function soso:gamecode/codenormal 1t
gamerule drowningDamage true

execute unless score spawn Qit matches 1.. run scoreboard players set spawn Qit 1

execute if score spy zTEST matches 1 run team modify Killer color blue
execute if score spy zTEST matches 1 run team modify Killer prefix "【逃亡者】"
execute if score ourkill zTEST matches 1 run team modify Killer prefix "【叛徒】"
execute if score spy zTEST matches 1 run team modify Runner friendlyFire true
execute if score runman zTEST matches 1 run team modify Runner friendlyFire true
execute if score spy zTEST matches 1 run team modify Killer friendlyFire true
execute if score spy zTEST matches 1 run team modify Runner seeFriendlyInvisibles false
execute if score spy zTEST matches 0 run team modify Runner seeFriendlyInvisibles true
execute if score killers zTEST matches 1 run team modify Killer prefix "【感染殺手】"
execute if score ghast zTEST matches 1 run team modify Runner prefix "【逃亡者之魂】"
execute if score 遊戲開始 zTEST matches 1 if score spy zTEST matches 1 run scoreboard objectives setdisplay list clear
execute if score flags zTEST matches 1 run team modify Runner prefix "【逃亡者─冰虎】"
execute if score flags zTEST matches 1 run team modify Killer prefix "【逃亡者─赤龍】"

execute unless score teamco zTEST matches 0..1 run scoreboard players set teamco zTEST 0
execute unless score knono zTEST matches 0..1 run scoreboard players set knono zTEST 0

execute if score teamco zTEST matches 0 run team modify Runner collisionRule never
execute if score teamco zTEST matches 1 run team modify Runner collisionRule always
execute if score teamco zTEST matches 0 run team modify Killer collisionRule never
execute if score teamco zTEST matches 1 run team modify Killer collisionRule always



